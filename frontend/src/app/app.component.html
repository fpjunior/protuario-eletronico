<footer class="footer-kralinfo">
  <span>Sistema desenvolvido por <strong>Kralinfo</strong> Soluções Tecnológicas</span>
</footer>
<style>
  .footer-kralinfo {
    width: 100%;
    text-align: center;
    font-size: 0.95em;
    color: #888;
    padding: 16px 0 8px 0;
    background: transparent;
    position: fixed;
    left: 0;
    bottom: 0;
    z-index: 100;
    pointer-events: none;
  }
</style>
<ng-container *ngIf="!isLoginRoute()">
  <!-- Menu hamburguer à esquerda do header principal -->
  <mat-menu #mainMenu="matMenu">
    <button mat-menu-item routerLink="/pacientes" routerLinkActive="font-bold">
      <mat-icon>people</mat-icon>
      <span>Pacientes</span>
    </button>
    <button mat-menu-item routerLink="/relatorios" routerLinkActive="font-bold">
      <mat-icon>description</mat-icon>
      <span>Relatórios</span>
    </button>
    <button *ngIf="authService.isAdmin || authService.isEditor" mat-menu-item routerLink="/usuarios" routerLinkActive="font-bold">
      <mat-icon>person</mat-icon>
      <span>Usuários</span>
    </button>
  </mat-menu>
  <div class="header-sistema">
    <div class="header-content">
      <div class="agrupado-esquerda">
        <button mat-icon-button [matMenuTriggerFor]="mainMenu" aria-label="Menu principal" class="menu-hamburguer">
          <mat-icon>menu</mat-icon>
        </button>
        <div class="logo-container">
          <img src="assets/logo-alianca.svg" alt="Aliança-PE" class="logo-alianca">
          <div class="sistema-info-botao cursor-pointer" tabindex="0" (click)="irParaMenuPrincipal()" (keydown.enter)="irParaMenuPrincipal()" aria-label="Ir para o menu principal">
            <div class="logo-principal">e-Prontuário</div>
            <div class="sistema-descricao">Gerenciamento de Prontuários Eletrônicos</div>
          </div>
        </div>

      </div>
      <div class="user-menu user-menu-fixo">
        <span class="user-info" *ngIf="currentUser">Olá, {{ currentUser.nome || currentUser.email }}</span>
        <button mat-icon-button [matMenuTriggerFor]="userMenu" aria-label="Menu do usuário">
          <mat-icon>account_circle</mat-icon>
        </button>
        <button mat-icon-button aria-label="Sobre o sistema" (click)="abrirSobre()" style="margin-left:8px;">
          <mat-icon>info</mat-icon>
        </button>
        <mat-menu #userMenu="matMenu">
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Sair</span>
          </button>
        </mat-menu>
      </div>
<ng-template #sobreDialog>
  <div class="sobre-modal leve">
    <h2 class="sobre-titulo">Sobre o sistema</h2>
    <div class="sobre-empresa">Sistema desenvolvido por <strong>Kralinfo</strong> Soluções Tecnológicas</div>
    <ul class="sobre-versoes">
      <li>Frontend: <strong>v1.0.0</strong> (Angular 19)</li>
      <li>Backend: <strong>v1.0.0</strong> (Node.js/Express)</li>
    </ul>
    <button mat-stroked-button color="primary" (click)="fecharSobre()">Fechar</button>
  </div>
</ng-template>
<style>
  .sobre-modal.leve {
    min-width: 260px;
    padding: 16px 8px 12px 8px;
    text-align: center;
    font-size: 0.98em;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    border-radius: 8px;
  }
  .user-menu-fixo {
    position: absolute;
    top: 50%;
    right: 24px;
    height: auto;
    display: flex;
    align-items: center;
    transform: translateY(-50%);
    z-index: 101;
  }
  .sobre-titulo {
    font-size: 1.08em;
    font-weight: 600;
    margin-bottom: 8px;
    color: #444;
  }
  .sobre-empresa {
    font-size: 0.97em;
    color: #888;
    margin-bottom: 8px;
  }
  .sobre-versoes {
    list-style: none;
    padding: 0;
    margin: 0 0 12px 0;
    font-size: 0.95em;
    color: #666;
  }
  .sobre-versoes li {
    margin-bottom: 2px;
  }
</style>
    </div>
  </div>
</ng-container>
<router-outlet></router-outlet>
